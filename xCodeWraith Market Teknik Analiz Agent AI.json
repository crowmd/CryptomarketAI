{
  "meta": {
    "instanceId": "xcodewraith-teknik-analiz-001"
  },
  "name": "ğŸ“Š xCodeWraith Market Teknik Analiz Agent AI",
  "nodes": [
    {
      "id": "57a8cbd8-bc2f-4600-a077-c2cec70962d8",
      "name": "Telegram Tetikleyici",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        220,
        100
      ],
      "webhookId": "5c56b0ad-c452-4ada-aba6-ac4da8238aca",
      "parameters": {
        "updates": [
          "message"
        ]
      },
      "typeVersion": 1.1,
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_CREDENTIAL_ID",
          "name": "Telegram Bot API"
        }
      }
    },
    {
      "id": "c0794d04-4a75-4e78-93c8-fd6dbecfb87c",
      "name": "Yapay Zeka AjanÄ±",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        580,
        100
      ],
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.message.text }}",
        "options": {
          "systemMessage": "Sen profesyonel bir borsa ve kripto para teknik analistisin. KullanÄ±cÄ±larÄ±n sorduÄŸu hisse senetleri veya kripto paralar iÃ§in TradingView grafiklerini analiz edip, anlaÅŸÄ±lÄ±r TÃ¼rkÃ§e teknik analiz raporlarÄ± hazÄ±rlarsÄ±n.\n\nKullanÄ±cÄ± bir sembol sorduÄŸunda (Ã¶rn: BTCUSD, ETHUSD, AAPL), grafik_cek aracÄ±nÄ± kullanarak grafiÄŸi Ã§ek ve analiz et.\n\nAnaliz yaparken:\n- ğŸ“ˆ Trend yÃ¶nÃ¼nÃ¼ belirt (yÃ¼kseliÅŸ/dÃ¼ÅŸÃ¼ÅŸ/yatay)\n- ğŸ¯ Destek ve direnÃ§ seviyelerini sÃ¶yle\n- ğŸ“Š Momentum gÃ¶stergelerini yorumla\n- â° KÄ±sa ve orta vadeli gÃ¶rÃ¼nÃ¼mÃ¼ deÄŸerlendir\n\nYanÄ±tlarÄ±nÄ± TÃ¼rkÃ§e ver ve profesyonel ama anlaÅŸÄ±lÄ±r bir dil kullan. Emoji kullan."
        }
      },
      "typeVersion": 1.7
    },
    {
      "id": "a7a243d2-80f7-4ace-b758-74770c83be0e",
      "name": "Sohbet HafÄ±zasÄ±",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        640,
        320
      ],
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Telegram Tetikleyici').item.json.message.chat.id }}",
        "contextWindowLength": 10
      },
      "typeVersion": 1.3
    },
    {
      "id": "aa4d7ada-5275-4271-8b9f-e0ec32f0c699",
      "name": "Grafik Ã‡ek",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        860,
        320
      ],
      "parameters": {
        "name": "grafik_cek",
        "description": "Belirtilen hisse senedi veya kripto para sembolÃ¼ iÃ§in TradingView grafiÄŸini Ã§eker. Sembol parametresi olarak BTCUSD, ETHUSD, AAPL gibi deÄŸerler alÄ±r.",
        "workflowId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "specifyInputSchema": true,
        "schemaType": "fromJson",
        "jsonSchemaExample": "{\n  \"symbol\": \"BTCUSD\",\n  \"chatId\": \"123456789\"\n}"
      },
      "typeVersion": 2
    },
    {
      "id": "c8f7d274-930e-4a23-ac6e-ab8a3b434c70",
      "name": "Telegram YanÄ±t GÃ¶nder",
      "type": "n8n-nodes-base.telegram",
      "position": [
        980,
        100
      ],
      "webhookId": "a2e618b0-f2a6-4d64-8782-7069e39a59bd",
      "parameters": {
        "chatId": "={{ $('Telegram Tetikleyici').item.json.message.chat.id }}",
        "text": "={{ $json.output }}",
        "additionalFields": {
          "parse_mode": "Markdown",
          "appendAttribution": false
        }
      },
      "typeVersion": 1.2,
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_CREDENTIAL_ID",
          "name": "Telegram Bot API"
        }
      }
    },
    {
      "id": "9580a9a5-3153-4fa9-8862-8e2e08506fac",
      "name": "ğŸ“Š Borsa Teknik Analizi",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -60,
        -120
      ],
      "parameters": {
        "color": 4,
        "width": 520,
        "height": 320,
        "content": "## ğŸ“Š Borsa Teknik Analizi Botu\n\n**GeliÅŸtirici:** xCodeWraith (DEV)\n**Versiyon:** 1.0.0\n**Son GÃ¼ncelleme:** AralÄ±k 2024\n\n---\n\nBu iÅŸ akÄ±ÅŸÄ±, Telegram Ã¼zerinden gelen mesajlara gÃ¶re hisse senedi veya kripto para teknik analizi yapar.\n\n**Ã–zellikler:**\n- ğŸ¤– GPT-4o Vision ile grafik analizi\n- ğŸ“ˆ TradingView entegrasyonu (Chart-img API)\n- ğŸ’¬ EtkileÅŸimli sohbet hafÄ±zasÄ±\n- ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e analiz raporlarÄ±\n- ğŸ”„ Dinamik sembol desteÄŸi"
      },
      "typeVersion": 1
    },
    {
      "id": "4c40f975-b35d-4706-9935-de521db30cd2",
      "name": "OpenAI GPT-4o",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        420,
        320
      ],
      "parameters": {
        "model": "gpt-4o",
        "options": {
          "temperature": 0.7,
          "maxTokens": 1024
        }
      },
      "typeVersion": 1.2,
      "credentials": {
        "openAiApi": {
          "id": "OPENAI_CREDENTIAL_ID",
          "name": "OpenAI API"
        }
      }
    },
    {
      "id": "26b9939c-dec4-4142-b884-6cbef56adb26",
      "name": "âš™ï¸ Grafik Alt Ä°ÅŸ AkÄ±ÅŸÄ±",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -60,
        420
      ],
      "parameters": {
        "color": 3,
        "width": 520,
        "height": 420,
        "content": "## âš™ï¸ Grafik Ã‡ekme Alt Ä°ÅŸ AkÄ±ÅŸÄ±\n\n**AmaÃ§:** Ana iÅŸ akÄ±ÅŸÄ±ndan tetiklenerek belirtilen sembol iÃ§in TradingView grafiÄŸi Ã§eker.\n\n---\n\n### ğŸ“‹ Ä°ÅŸlem AdÄ±mlarÄ±:\n\n1. **Sembol AyrÄ±ÅŸtÄ±rma** - KullanÄ±cÄ±nÄ±n mesajÄ±ndan hisse/kripto sembolÃ¼ Ã§Ä±karÄ±lÄ±r\n2. **Chart-img API** - TradingView grafiÄŸi PNG olarak indirilir\n3. **Base64 DÃ¶nÃ¼ÅŸÃ¼m** - GÃ¶rsel AI iÃ§in hazÄ±rlanÄ±r\n4. **GPT-4o Vision** - Grafik analiz edilir\n5. **Telegram** - SonuÃ§ ve gÃ¶rsel gÃ¶nderilir\n\n---\n\nâš ï¸ **Not:** Bu alt iÅŸ akÄ±ÅŸÄ±, ana ajan tarafÄ±ndan `grafik_cek` aracÄ± olarak Ã§aÄŸrÄ±lÄ±r.\n\nğŸ“Œ **Workflow ID'sini** Grafik Ã‡ek node'una eklemeyi unutmayÄ±n!"
      },
      "typeVersion": 1
    },
    {
      "id": "19b572cf-1a26-4e83-bdf6-d005cf2e9ea1",
      "name": "Alt Ä°ÅŸ AkÄ±ÅŸÄ± Tetikleyici",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        40,
        600
      ],
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "symbol",
              "type": "string"
            },
            {
              "name": "chatId",
              "type": "string"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "61e766ff-1b07-4bbc-9d48-fe996281fc00",
      "name": "Sembol AyrÄ±ÅŸtÄ±r",
      "type": "n8n-nodes-base.code",
      "position": [
        240,
        600
      ],
      "parameters": {
        "jsCode": "// KullanÄ±cÄ±nÄ±n mesajÄ±ndan sembol ve chat ID Ã§Ä±kar\nconst inputData = $input.all()[0].json;\n\n// SembolÃ¼ bÃ¼yÃ¼k harfe Ã§evir ve temizle\nlet symbol = (inputData.symbol || 'BTCUSD').toUpperCase().trim();\n\n// YaygÄ±n format dÃ¼zeltmeleri\nif (!symbol.includes(':')) {\n  // Kripto sembolleri iÃ§in BINANCE prefix ekle\n  const cryptoSymbols = ['BTC', 'ETH', 'SOL', 'XRP', 'ADA', 'DOT', 'DOGE', 'AVAX', 'MATIC'];\n  const isCrypto = cryptoSymbols.some(c => symbol.startsWith(c));\n  \n  if (isCrypto) {\n    symbol = `BINANCE:${symbol}`;\n  } else {\n    // Hisse senetleri iÃ§in NASDAQ prefix ekle\n    symbol = `NASDAQ:${symbol}`;\n  }\n}\n\nreturn {\n  json: {\n    symbol: symbol,\n    chatId: inputData.chatId\n  }\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "4fb8a467-b3b1-49c6-9eb9-c24e439fdfc4",
      "name": "Sembol ve Chat ID",
      "type": "n8n-nodes-base.set",
      "position": [
        440,
        600
      ],
      "parameters": {
        "mode": "manual",
        "duplicateItem": false,
        "assignments": {
          "assignments": [
            {
              "id": "symbol-1",
              "name": "symbol",
              "value": "={{ $json.symbol }}",
              "type": "string"
            },
            {
              "id": "chatId-1",
              "name": "chatId",
              "value": "={{ $json.chatId }}",
              "type": "string"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "562a4d01-5a27-466d-9114-c5edc4205885",
      "name": "TradingView Grafik API",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        640,
        600
      ],
      "parameters": {
        "url": "https://api.chart-img.com/v2/tradingview/advanced-chart",
        "method": "POST",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"symbol\": \"{{ $json.symbol }}\",\n  \"interval\": \"1h\",\n  \"width\": 800,\n  \"height\": 600,\n  \"style\": \"candle\",\n  \"theme\": \"dark\",\n  \"timezone\": \"Europe/Istanbul\",\n  \"format\": \"png\",\n  \"studies\": [\n    {\n      \"name\": \"RSI\",\n      \"inputs\": { \"length\": 14 }\n    },\n    {\n      \"name\": \"MACD\"\n    }\n  ]\n}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "typeVersion": 4.2,
      "credentials": {
        "httpBearerAuth": {
          "id": "CHARTIMG_CREDENTIAL_ID",
          "name": "Chart-img API"
        }
      }
    },
    {
      "id": "d1e2f3a4-b5c6-7890-abcd-123456789abc",
      "name": "Base64 DÃ¶nÃ¼ÅŸtÃ¼r",
      "type": "n8n-nodes-base.code",
      "position": [
        840,
        600
      ],
      "parameters": {
        "jsCode": "// Grafik gÃ¶rselini base64 formatÄ±na Ã§evir\nconst binaryData = $input.all()[0].binary;\n\nif (!binaryData || !binaryData.data) {\n  throw new Error('Grafik verisi alÄ±namadÄ±!');\n}\n\nconst base64Image = binaryData.data.data;\nconst symbol = $('Sembol ve Chat ID').item.json.symbol;\nconst chatId = $('Sembol ve Chat ID').item.json.chatId;\n\nreturn {\n  json: {\n    base64Image: base64Image,\n    symbol: symbol,\n    chatId: chatId,\n    mimeType: binaryData.data.mimeType || 'image/png'\n  },\n  binary: binaryData\n};"
      },
      "typeVersion": 2
    },
    {
      "id": "6f506393-e225-45ec-a49f-eb473585e877",
      "name": "Grafik Analizi",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1040,
        600
      ],
      "parameters": {
        "resource": "chat",
        "model": "gpt-4o",
        "prompt": {
          "messages": [
            {
              "role": "system",
              "content": "Sen profesyonel bir teknik analistsin. TradingView grafiklerini analiz edip TÃ¼rkÃ§e rapor hazÄ±rlarsÄ±n."
            },
            {
              "role": "user",
              "content": "={{ 'Bu ' + $json.symbol + ' grafiÄŸini analiz et:\\n\\n1. **Trend Analizi:** YÃ¼kseliÅŸ/dÃ¼ÅŸÃ¼ÅŸ/yatay?\\n2. **Destek/DirenÃ§:** Kritik seviyeler neler?\\n3. **RSI & MACD:** Momentum nasÄ±l?\\n4. **GÃ¶rÃ¼nÃ¼m:** KÄ±sa vadeli beklenti?\\n\\nKÄ±sa ve Ã¶z analiz yap, emoji kullan.' }}"
            }
          ]
        },
        "options": {
          "temperature": 0.7,
          "maxTokens": 500
        }
      },
      "typeVersion": 1.8,
      "credentials": {
        "openAiApi": {
          "id": "OPENAI_CREDENTIAL_ID",
          "name": "OpenAI API"
        }
      }
    },
    {
      "id": "655d3289-55c6-49e3-8e1d-c7883ce57415",
      "name": "Grafik GÃ¶nder",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1240,
        600
      ],
      "webhookId": "31b77856-a976-4e63-9e6b-aeada64aeaab",
      "parameters": {
        "chatId": "={{ $('Sembol ve Chat ID').item.json.chatId }}",
        "resource": "message",
        "operation": "sendPhoto",
        "binaryPropertyName": "data",
        "additionalFields": {
          "caption": "ğŸ“Š **{{ $('Sembol ve Chat ID').item.json.symbol }}** Teknik Analiz\n\n{{ $json.message.content }}",
          "parse_mode": "Markdown",
          "appendAttribution": false
        }
      },
      "typeVersion": 1.2,
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_CREDENTIAL_ID",
          "name": "Telegram Bot API"
        }
      }
    },
    {
      "id": "1188a40d-16a2-4536-8d60-1be4eaccd353",
      "name": "YanÄ±t HazÄ±rla",
      "type": "n8n-nodes-base.set",
      "position": [
        1440,
        600
      ],
      "parameters": {
        "mode": "manual",
        "duplicateItem": false,
        "assignments": {
          "assignments": [
            {
              "id": "response-1",
              "name": "response",
              "value": "={{ $('Grafik Analizi').item.json.message.content }}",
              "type": "string"
            },
            {
              "id": "success-1",
              "name": "success",
              "value": true,
              "type": "boolean"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
      "name": "ğŸ“– KullanÄ±m KÄ±lavuzu",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        480,
        -120
      ],
      "parameters": {
        "color": 2,
        "width": 400,
        "height": 320,
        "content": "## ğŸ“– KullanÄ±m KÄ±lavuzu\n\n### ğŸš€ BaÅŸlangÄ±Ã§:\n1. Telegram botunuzu oluÅŸturun (@BotFather)\n2. OpenAI API anahtarÄ±nÄ±zÄ± ekleyin\n3. Chart-img API anahtarÄ± alÄ±n (Ã¼cretsiz tier var)\n\n### ğŸ’¬ Ã–rnek Komutlar:\n```\nBTCUSD analiz et\nETH grafiÄŸini Ã§ek\nAAPL teknik analizi yap\nSOL/USD nasÄ±l gÃ¶rÃ¼nÃ¼yor?\n```\n\n### âš™ï¸ Desteklenen Semboller:\n- ğŸª™ **Kripto:** BTCUSD, ETHUSD, SOLUSD, XRPUSD...\n- ğŸ“ˆ **Hisse:** AAPL, GOOGL, TSLA, NVDA...\n- ğŸ’± **Forex:** EURUSD, GBPUSD, USDJPY..."
      },
      "typeVersion": 1
    },
    {
      "id": "b2c3d4e5-f6a7-8901-bcde-f23456789012",
      "name": "ğŸ”§ Gerekli Ayarlar",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        900,
        -120
      ],
      "parameters": {
        "color": 6,
        "width": 400,
        "height": 320,
        "content": "## ğŸ”§ Gerekli Kimlik Bilgileri\n\n### 1ï¸âƒ£ Telegram Bot API\n- @BotFather'dan bot oluÅŸturun\n- Token'Ä± n8n credentials'a ekleyin\n- Bot'u gruba eklemeden Ã¶nce test edin\n\n### 2ï¸âƒ£ OpenAI API\n- [platform.openai.com](https://platform.openai.com) adresinden alÄ±n\n- GPT-4o eriÅŸimi gerekli (Ã¼cretli)\n\n### 3ï¸âƒ£ Chart-img API\n- [chart-img.com](https://chart-img.com) adresinden alÄ±n\n- Ãœcretsiz tier: 100 istek/ay\n- Bearer token olarak ekleyin\n\n---\n\nğŸ’° **Tahmini Maliyet:** ~$0.01-0.05/analiz"
      },
      "typeVersion": 1
    },
    {
      "id": "c3d4e5f6-a7b8-9012-cdef-345678901234",
      "name": "âš ï¸ Yasal UyarÄ±",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1320,
        -120
      ],
      "parameters": {
        "color": 7,
        "width": 360,
        "height": 320,
        "content": "## âš ï¸ Yasal UyarÄ±\n\n> **Bu iÅŸ akÄ±ÅŸÄ± yalnÄ±zca eÄŸitim ve kiÅŸisel kullanÄ±m amaÃ§lÄ±dÄ±r.**\n\nğŸš« Bu araÃ§ **FÄ°NANSAL TAVSÄ°YE** niteliÄŸi taÅŸÄ±maz.\n\nğŸš« YatÄ±rÄ±m kararlarÄ±nÄ±zÄ± bu analizlere dayandÄ±rmayÄ±n.\n\nğŸš« Her tÃ¼rlÃ¼ kayÄ±p kullanÄ±cÄ±nÄ±n sorumluluÄŸundadÄ±r.\n\n---\n\nğŸ‘¨â€ğŸ’» **GeliÅŸtirici:** xCodeWraith\nğŸ“§ **Ä°letiÅŸim:** GitHub Issues\nğŸ“œ **Lisans:** MIT License\n\n---\n\n*GeliÅŸtirici, bu aracÄ±n kullanÄ±mÄ±ndan doÄŸabilecek zararlardan sorumlu deÄŸildir.*"
      },
      "typeVersion": 1
    },
    {
      "id": "e4f5a6b7-c8d9-0123-efab-567890123456",
      "name": "ğŸ”„ Workflow AkÄ±ÅŸÄ±",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        480,
        220
      ],
      "parameters": {
        "color": 5,
        "width": 480,
        "height": 160,
        "content": "## ğŸ”„ Ana Ä°ÅŸ AkÄ±ÅŸÄ±\n\n```\nTelegram MesajÄ± â†’ AI AjanÄ± â†’ [Grafik Ã‡ek Tool] â†’ YanÄ±t GÃ¶nder\n                    â†‘\n            GPT-4o + HafÄ±za\n```\n\nâš¡ AI AjanÄ±, kullanÄ±cÄ± sembol sorduÄŸunda otomatik olarak `grafik_cek` aracÄ±nÄ± Ã§aÄŸÄ±rÄ±r."
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Sembol AyrÄ±ÅŸtÄ±r": {
      "main": [
        [
          {
            "node": "Sembol ve Chat ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Yapay Zeka AjanÄ±": {
      "main": [
        [
          {
            "node": "Telegram YanÄ±t GÃ¶nder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Base64 DÃ¶nÃ¼ÅŸtÃ¼r": {
      "main": [
        [
          {
            "node": "Grafik Analizi",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Grafik Analizi": {
      "main": [
        [
          {
            "node": "Grafik GÃ¶nder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Grafik Ã‡ek": {
      "ai_tool": [
        [
          {
            "node": "Yapay Zeka AjanÄ±",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Grafik GÃ¶nder": {
      "main": [
        [
          {
            "node": "YanÄ±t HazÄ±rla",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "TradingView Grafik API": {
      "main": [
        [
          {
            "node": "Base64 DÃ¶nÃ¼ÅŸtÃ¼r",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram Tetikleyici": {
      "main": [
        [
          {
            "node": "Yapay Zeka AjanÄ±",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI GPT-4o": {
      "ai_languageModel": [
        [
          {
            "node": "Yapay Zeka AjanÄ±",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Sembol ve Chat ID": {
      "main": [
        [
          {
            "node": "TradingView Grafik API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sohbet HafÄ±zasÄ±": {
      "ai_memory": [
        [
          {
            "node": "Yapay Zeka AjanÄ±",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Alt Ä°ÅŸ AkÄ±ÅŸÄ± Tetikleyici": {
      "main": [
        [
          {
            "node": "Sembol AyrÄ±ÅŸtÄ±r",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveManualExecutions": true,
    "callerPolicy": "workflowsFromSameOwner"
  },
  "staticData": null,
  "tags": [
    {
      "id": "1",
      "name": "Kripto"
    },
    {
      "id": "2",
      "name": "Teknik Analiz"
    },
    {
      "id": "3",
      "name": "Telegram"
    },
    {
      "id": "4",
      "name": "xCodeWraith"
    },
    {
      "id": "5",
      "name": "GPT-4o"
    }
  ]
}